##Cambios Luis-25-04-16

CREATE TABLE
    USUARIOS
    (
        ID_USUARIO NUMBER NOT NULL,
        ID_AREA NUMBER,
        ID_EMPLEADO NUMBER,
        USUARIO VARCHAR2(20),
        CONTRASENA VARCHAR2(200),
        CORREO VARCHAR2(100),
        FLG_ESTATUS NUMBER(1),
        FECHA_CONTRASENIA TIMESTAMP(6),
        BLOQUEADO NUMBER(1),
        FECHA_BLOQUEADO TIMESTAMP(6),
        CONSTRAINT PK_USUARIOS PRIMARY KEY (ID_USUARIO),
        CONSTRAINT USUARIOS_AREAS_FK FOREIGN KEY (ID_AREA) REFERENCES CAT_AREAS (ID_AREA)
    );

############################################################


CREATE TABLE
    CAT_PRIVILEGIOS
    (
        ID_PRIVILEGIO NUMBER NOT NULL,
        DESCRIPCION VARCHAR2(200),
        ESTATUS NUMBER(1),
        CONSTRAINT PK_CAT_PRIVILEGIOS PRIMARY KEY (ID_PRIVILEGIO)
    );




	CREATE TABLE
    AREA_PRIVILEGIO
    ( 
        ID_AREA NUMBER NOT NULL,
        ID_PRIVILEGIO NUMBER NOT NULL,
        ID_PERMISO NUMBER NOT NULL,
        CONSTRAINT PK_AREA_PRIVILEGIO PRIMARY KEY (ID_AREA,ID_PRIVILEGIO,ID_PERMISO),
        CONSTRAINT FK_AREA_PRIVILEGIO_CA FOREIGN KEY (ID_AREA) REFERENCES CAT_AREAS (ID_AREA),
        CONSTRAINT FK_AREA_PRIVILEGIO_CAP FOREIGN KEY (ID_PRIVILEGIO) REFERENCES CAT_PRIVILEGIOS (ID_PRIVILEGIO),
        CONSTRAINT FK_AREA_PRIVILEGIO_CAT FOREIGN KEY (ID_PERMISO) REFERENCES CAT_PERMISOS (ID_PERMISO)
  )