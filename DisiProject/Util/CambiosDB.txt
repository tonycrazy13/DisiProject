##Cambios Luis-25-04-16

CREATE TABLE
    USUARIOS
    (
        ID_USUARIO NUMBER NOT NULL,
        ID_AREA NUMBER,
        ID_EMPLEADO NUMBER,
        USUARIO VARCHAR2(20),
        CONTRASENA VARCHAR2(200),
        CORREO VARCHAR2(100),
        FLG_ESTATUS NUMBER(1),
        FECHA_CONTRASENIA TIMESTAMP(6),
        BLOQUEADO NUMBER(1),
        FECHA_BLOQUEADO TIMESTAMP(6),
        CONSTRAINT PK_USUARIOS PRIMARY KEY (ID_USUARIO),
        CONSTRAINT USUARIOS_AREAS_FK FOREIGN KEY (ID_AREA) REFERENCES CAT_AREAS (ID_AREA)
    );

############################################################


create table CLIENTES (
   ID_CLIENTE           NUMBER NOT NULL,
   ID_ESTADO_CLIENTE    NUMBER,
   ID_ORIGEN            NUMBER,
   TEL_PRINCIPAL        VARCHAR2(15),
   CORREO_PRINCIPAL     VARCHAR2(80),
   ID_TIPO_PERSONA      NUMBER,
   RAZON_SOCIAL         VARCHAR2(150),
   RFC                  VARCHAR2(15),
   NOMBRE_COMERCIAL     VARCHAR2(150),
   REG_PROVEEDOR        VARCHAR2(15),
   FEC_ALTA             TIMESTAMP,
   FEC_MOD              TIMESTAMP,
   ID_USUARIO           NUMBER,
   constraint PK_CLIENTES primary key (ID_CLIENTE)
);


create table CONTACTOS (
   ID_CONTACTO          NUMBER NOT NULL,
   ID_TIPO_PERSONA      NUMBER ,
   ID__TIPO_CONTACTO    NUMBER ,
   ID_ESTADO_CIVIL      NUMBER ,
   DESC_CONTACTO        NUMBER ,
   NOMBRE_1             VARCHAR2(25)         ,
   NOMBRE_2             VARCHAR2(25)         ,
   AP_PATERNO           VARCHAR2(25)         ,
   AP_MATERNO           VARCHAR2(25)         ,
   FEC_NAC              date                 ,
   CORREO_PERSONAL      VARCHAR2(50)         ,
   CORREO_EMPRESARIAL   VARCHAR2(50)         ,
   TELEFONO             VARCHAR2(50)         ,
   MOVIL                VARCHAR2(20)         ,
   SEXO                 VARCHAR2(1)          ,
   RFC                  VARCHAR2(15)         ,
   RAZON_SOCIAL         VARCHAR2(15)         ,
   constraint PK_CONTACTOS primary key (ID_CONTACTO)
);

create table DIRECCIONES (
   ID_DIRECCION         NUMBER NOT NULL,
   CALLE                VARCHAR2(100)         ,
   NO_INTERIOR          VARCHAR2(20)          ,
   NO_EXTERIOR          VARCHAR2(50)          ,
   ID_TIPO_DIRECCION    NUMBER ,
   CP                   VARCHAR2(5)           ,
   ANT_ANO              NUMBER ,
   ANT_MES              NUMBER ,
   constraint PK_DIRECCIONES primary key (ID_DIRECCION)
)

create table CLIENTES_CONTACTOS (
   ID_CLIENTE           NUMBER NOT NULL,
   ID_CONTACTO          NUMBER not null,
   FEC_INICIO_CONTACTO  TIMESTAMP,
   FLG_ESTATUS          CHAR(1),
   constraint PK_CLIENTES_CONTACTOS primary key (ID_CLIENTE, ID_CONTACTO)
)

create table CLIENTES_DIRECCIONES (
   ID_CLIENTE           NUMBER NOT NULL,
   ID_DIRECCION         NUMBER NOT NULL,
   FEC_ALTA             TIMESTAMP,
   FLG_STATUS           CHAR(1),
   FEC_BAJA             TIMESTAMP,
   ID_USUARIO           NUMBER,
   constraint PK_CLIENTES_DIRECCIONES primary key (ID_CLIENTE, ID_DIRECCION)
)

create table CODIGOS_POSTALES (
ID_CP NUMBER NOT NULL,
   CP                   VARCHAR2(5)           not null,
   ID_MUNICIPIO         NUMBER,
   ID_CIUDAD            NUMBER,
   DES_COLONIA          VARCHAR2(50),
   constraint PK_CODIGOS_POSTALES primary key (CP)
)

create table MUNICIPIOS (
   ID_MUNICIPIO         VARCHAR2(3)          not null,
   ID_ESTADO            VARCHAR2(3)          ,
   DES_CORTA            VARCHAR2(4)          ,
   DES_LARGA            VARCHAR2(50)         ,
   constraint PK_MUNICIPIOS primary key (ID_MUNICIPIO)
)


create table CAT_ESTADOS (
   ID_ESTADO            VARCHAR2(3)          not null,
   DES_ESTADO_CORTA     VARCHAR2(4)          ,
   DES_ESTADO_LARGA     VARCHAR2(50)         ,
   constraint PK_CAT_ESTADOS primary key (ID_ESTADO)
)

create table CAT_CIUDADES (
   ID_CIUDAD            VARCHAR2(3)          not null,
   DES_CIUDAD_CORTA     VARCHAR2(4)          ,
   DES_CIUDAD_LARGA     VARCHAR2(50)         ,
   constraint PK_CAT_CIUDADES primary key (ID_CIUDAD)
)

create table CAT_TIPO_DIRECCION (
   ID_TIPO_DIRECCION    NUMBER NOT NULL,
   DES_TIPO_DIRECCION   VARCHAR2(15)          ,
   constraint PK_CAT_TIPO_DIRECCION primary key (ID_TIPO_DIRECCION)
)

create table CAT_TIPOS_CONTACTOS (
   ID__TIPO_CONTACTO    NUMBER NOT NULL,
   DES_CONTACTO_LARGA   VARCHAR2(15)         ,
   DES_CONTACTO_CORTA   VARCHAR2(4)          ,
   constraint PK_CAT_TIPOS_CONTACTOS primary key (ID__TIPO_CONTACTO)
)

create table CAT_ESTADO_CIVIL (
   ID_ESTADO_CIVIL      NUMBER NOT NULL,
   DES_ESTADO_CIVIL     VARCHAR2(50)         ,
   CVE_ESTADO_CIVIL     VARCHAR2(5)          ,
   constraint PK_CAT_ESTADO_CIVIL primary key (ID_ESTADO_CIVIL)
)

create table CAT_ESTADOS_CLIENTES (
   ID_ESTADO_CLIENTE    NUMBER NOT NULL,
   DES_ESTADO_CLIENTES  VARCHAR2(20)         ,
   constraint PK_CAT_ESTADOS_CLIENTES primary key (ID_ESTADO_CLIENTE)
)

create table CAT_ORIGENES (
   ID_ORIGEN            NUMBER NOT NULL,
   DESC_ORIGEN          VARCHAR2(150)       ,
   constraint PK_CAT_ORIGENES primary key (ID_ORIGEN)
)


create table CAT_TIPOS_PERSONAS (
   ID_TIPO_PERSONA      NUMBER NOT NULL,
   DES_TIPO_PERSONA     VARCHAR2(25)         ,
   CVE_TIPO_PERSONA     VARCHAR2(3)          ,
   constraint PK_CAT_TIPOS_PERSONAS primary key (ID_TIPO_PERSONA)
)

#################################################

ALTER TABLE
    DISIOPERACIONES.CLIENTES ADD (ESTATUS NUMBER(1));

	ALTER TABLE
    DISIOPERACIONES.CONTACTOS ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CONTACTOS ADD (FEC_MOD TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CONTACTOS ADD (ID_USUARIO NUMBER(10));
ALTER TABLE
    DISIOPERACIONES.CONTACTOS ADD (ESTATUS NUMBER(1));


	ALTER TABLE
    DISIOPERACIONES.DIRECCIONES ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.DIRECCIONES ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.DIRECCIONES ADD (ESTATUS NUMBER(1));


	 ALTER TABLE
    DISIOPERACIONES.CAT_ESTADOS_CLIENTES ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CAT_ESTADOS_CLIENTES ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_ESTADOS_CLIENTES ADD (ESTATUS NUMBER(1));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_ESTADOS_CLIENTES ADD (ID_USUARIO NUMBER(10));


	ALTER TABLE
    DISIOPERACIONES.CLIENTES_CONTACTOS DROP COLUMN FEC_INICIO_CONTACTO;



	ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_PERSONAS ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_PERSONAS ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_PERSONAS ADD (ESTATUS NUMBER(1));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_PERSONAS ADD (ID_USUARIO NUMBER(10));


	ALTER TABLE
    DISIOPERACIONES.CAT_ORIGENES ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CAT_ORIGENES ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_ORIGENES ADD (ESTATUS NUMBER(1));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_ORIGENES ADD (ID_USUARIO NUMBER(10));


	ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_CONTACTOS ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_CONTACTOS ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_CONTACTOS ADD (ESTATUS NUMBER(1));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_TIPOS_CONTACTOS ADD (ID_USUARIO NUMBER(10));



	ALTER TABLE
    DISIOPERACIONES.CAT_ESTADO_CIVIL ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CAT_ESTADO_CIVIL ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_ESTADO_CIVIL ADD (ESTATUS NUMBER(1));
    
    ALTER TABLE
    DISIOPERACIONES.CAT_ESTADO_CIVIL ADD (ID_USUARIO NUMBER(10));


	   create table CONTACTOS_DIRECCIONES (
   ID_CONTACTO          NUMBER                  not null,
   ID_DIRECCION         NUMBER                  not null,
   FEC_ALTA             TIMESTAMP             ,

   ID_USUARIOS          NUMBER                  ,
   FEC_BAJA             TIMESTAMP             ,
   constraint PK_CONTACTOS_DIRECCIONES primary key (ID_CONTACTO, ID_DIRECCION));
   
   
   create table CLIENTES_DIRECCIONES (
   ID_CLIENTE           NUMBER                  not null,
   ID_DIRECCION         NUMBER                  not null,
   FEC_ALTA             TIMESTAMP             ,

   FEC_BAJA             TIMESTAMP             ,
   ID_USUARIO           NUMBER                  ,
   constraint PK_CLIENTES_DIRECCIONES primary key (ID_CLIENTE, ID_DIRECCION));


   ALTER TABLE
    DISIOPERACIONES.CONTACTOS_DIRECCIONES ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CONTACTOS_DIRECCIONES ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.CONTACTOS_DIRECCIONES ADD (ESTATUS NUMBER(1));
    
    ALTER TABLE
    DISIOPERACIONES.CONTACTOS_DIRECCIONES ADD (ID_USUARIO NUMBER(10));
    

	 ALTER TABLE
    DISIOPERACIONES.CLIENTES_DIRECCIONES ADD (FEC_ALTA TIMESTAMP(8));
ALTER TABLE
    DISIOPERACIONES.CLIENTES_DIRECCIONES ADD (FEC_MOD TIMESTAMP(8));
    
    ALTER TABLE
    DISIOPERACIONES.CLIENTES_DIRECCIONES ADD (ESTATUS NUMBER(1));
    
    ALTER TABLE
    DISIOPERACIONES.CLIENTES_DIRECCIONES ADD (ID_USUARIO NUMBER(10));